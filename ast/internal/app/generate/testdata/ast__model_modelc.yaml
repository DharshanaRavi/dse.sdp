---
kind: Simulation
spec:
  arch: linux-amd64
  channels:
    - name: physical
  stacks:
    - name: default
      models:
        - name: input
          model: dse.modelc.csv
          uses: dse.modelc
          channels:
            - alias: scalar_vector
              name: physical
          files:
            - input.csv # user provided
            - signalgroup.yaml # generated by toolchain, but in this case, user provided.
          metadata:
            package:
              download: '{{.REPO}}/releases/download/v{{.TAG}}/ModelC-{{.TAG}}-{{.PLATFORM_ARCH}}.zip'
            models:
              dse.modelc.csv:
                path: examples/csv
                files:
                  - lib/libcsv.so
                  - data/model.yaml

  uses:
    - name: dse.modelc
      url: https://github.com/boschglobal/dse.modelc
      version: v2.1.15
      metadata:
        container:
          repository: ghcr.io/boschglobal/dse-modelc

  vars:
    - name: sim_key
      value: sim_value
